<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="../../layout/basicLayout.xhtml">
    <ui:define name="content">

        <style>
            .no-border-column td {
                border-top: none !important;
                border-bottom: none !important;
            }
        </style>

        <h:form id="form">
            <p:fieldset legend="#{viewCompetitionController.selectedCompetition.name}">
                <p:steps activeIndex="#{viewCompetitionController.gamesIndex.activeIndex}" model="#{viewCompetitionController.stepsModel}"/>
            </p:fieldset>


            <ui:repeat value="#{viewCompetitionController.matches}" var="entry">
                <ui:fragment rendered="#{viewCompetitionController.gamesIndex.activeIndex == entry.key}">
                    <p:dataTable lazy="false" rowIndexVar="rowNum" var="match" value="#{entry.value.matches}"
                                 style="margin-top: 20px;
                                 margin-right: 30px;
                                 margin-bottom: 40px;
                                 margin-left: 50px;">

                        <p:column style="text-align: center;">
                            <h:outputText style="vertical-align: middle; margin-left: .5rem" value="#{match.team1.name}"/>
                        </p:column>
                        <p:column style="text-align: center;">
                            <ui:repeat value="#{match.team1.players}" var="player">
                                <h:outputText value="#{player.name}" style="text-align: center;"/>
                                <br/> <!-- För att separera spelarnas namn -->
                            </ui:repeat>
                        </p:column>

                        <p:column style="text-align: center;" styleClass="no-border-column">
                            <h:outputText value="- VS -"/>
                        </p:column>
                        <p:column style="text-align: center;">
                            <h:outputText style="vertical-align: middle; margin-left: .5rem" value="#{match.team2.name}"/>
                        </p:column>
                        <p:column style="text-align: center;">
                            <ui:repeat value="#{match.team2.players}" var="player">
                                <h:outputText value="#{player.name}" style="text-align: center;"/>
                                <br/> <!-- För att separera spelarnas namn -->
                            </ui:repeat>
                        </p:column>
                    </p:dataTable>
                </ui:fragment>
            </ui:repeat>

            <!-- Knapparna placerade direkt efter varandra -->
            <div  class="card" style="text-align: right;">
                <p:commandButton value="Previous" action="#{viewCompetitionController.gamesIndex.prevStep}" update=":form" disabled="#{viewCompetitionController.gamesIndex.activeIndex == 0}"/>
                <p:commandButton value="Next" action="#{viewCompetitionController.gamesIndex.nextStep}" update=":form" disabled="#{viewCompetitionController.gamesIndex.disabled()}" />
            </div>
        </h:form>
    </ui:define>
</ui:composition>
