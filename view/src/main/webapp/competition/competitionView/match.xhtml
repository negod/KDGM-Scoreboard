<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <ui:repeat value="#{controller.matches}" var="entry">
        <ui:fragment rendered="#{indexController.gamesIndex.activeIndexGameId() == entry.key}">
            
            #{indexController.gamesIndex.activeIndex}
            
            <p:dataTable lazy="false" rowIndexVar="rowNum" var="match" value="#{entry.value.matches}"
                         style="margin-top: 20px;
                         margin-right: 30px;
                         margin-bottom: 40px;
                         margin-left: 50px;">

                <p:column style="text-align: center;">
                    <h:outputText style="vertical-align: middle; margin-left: .5rem" value="#{match.team1.name}"/>
                </p:column>
                <p:column style="text-align: center;">
                    <ui:repeat value="#{match.team1.players}" var="player">
                        <h:outputText value="#{player.name}" style="text-align: center;"/>
                        <br/> <!-- För att separera spelarnas namn -->
                    </ui:repeat>
                </p:column>

                <p:column style="text-align: center;" styleClass="no-border-column" headerText="Match #{match.order}">
                    <h:outputText value="- VS -"/>
                </p:column>
                <p:column style="text-align: center;">
                    <h:outputText style="vertical-align: middle; margin-left: .5rem" value="#{match.team2.name}"/>
                </p:column>
                <p:column style="text-align: center;">
                    <ui:repeat value="#{match.team2.players}" var="player">
                        <h:outputText value="#{player.name}" style="text-align: center;"/>
                        <br/> <!-- För att separera spelarnas namn -->
                    </ui:repeat>
                </p:column>
                <p:column>
                    <p:commandButton icon="pi pi-plus" 
                                     styleClass="edit-button rounded-button ui-button-success" 
                                     value="Add result"
                                     process="@this">
                        
                    </p:commandButton>
                </p:column>
            </p:dataTable>
        </ui:fragment>
    </ui:repeat>

</html>