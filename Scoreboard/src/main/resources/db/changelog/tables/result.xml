<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                                       http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.4.xsd">

    <changeSet id="create_result_table" author="Joakim Backede">
        <!-- Create the Result table -->
        <createTable tableName="result">
            <column name="id" type="VARCHAR(36)">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="updated" type="date">
                <constraints nullable="false"/>
            </column>
            <column name="player_id" type="VARCHAR(36)">
                <constraints nullable="false"/>
            </column>
            <column name="game_id" type="VARCHAR(36)">
                <constraints nullable="false"/>
            </column>
            <column name="competition_id" type="VARCHAR(36)">
                <constraints nullable="false"/>
            </column>
            <column name="score" type="INT">
                <!-- Define any constraints for the score column if needed -->
            </column>
            <!-- Add a column for time duration -->
            <column name="time" type="INTERVAL">
                <!-- Define any constraints for the time_duration column if needed -->
            </column>
            <!-- Add other columns as needed -->
        </createTable>

        <!-- Add foreign key constraints -->
        <addForeignKeyConstraint baseTableName="result" baseColumnNames="player_id"
                                 referencedTableName="player" referencedColumnNames="id"
                                 constraintName="fk_result_player" deferrable="true" initiallyDeferred="true" />
        <addForeignKeyConstraint baseTableName="result" baseColumnNames="game_id"
                                 referencedTableName="game" referencedColumnNames="id"
                                 constraintName="fk_result_game" deferrable="true" initiallyDeferred="true" />
        <addForeignKeyConstraint baseTableName="result" baseColumnNames="competition_id"
                                 referencedTableName="competition" referencedColumnNames="id"
                                 constraintName="fk_result_competition" deferrable="true" initiallyDeferred="true" />

        <!-- Rollback -->
        <rollback>
            <dropTable tableName="result" cascadeConstraints="true" />
        </rollback>
    </changeSet>

</databaseChangeLog>
